{{ define "main" }}
<div class="maintainers-page">
    <div class="container-wide">
        <div class="section-header">
            <h1 class="section-title">Infrastructure Maintainers</h1>
            <p class="section-subtitle">
                Meet the dedicated individuals who keep critical open source infrastructure running.
            </p>
        </div>

        {{ $maintainers := where .Site.RegularPages "Section" "maintainers" }}
        {{ $publishedMaintainers := where $maintainers ".Draft" "!=" true }}

        {{ if gt (len $publishedMaintainers) 0 }}
        <div class="maintainers-grid">
            {{ range $publishedMaintainers }}
            <a href="{{ .RelPermalink }}" class="maintainer-card">
                <div class="maintainer-card-header">
                    <div class="maintainer-avatar">
                        {{ partial "maintainer-avatar.html" (dict "maintainer" . "size" 56) }}
                    </div>
                    <div class="maintainer-card-title">
                        <h3 class="maintainer-name">{{ .Title }}</h3>
                        {{ if .Params.role }}
                        <p class="maintainer-role">{{ .Params.role }}</p>
                        {{ end }}
                    </div>
                </div>
                
                {{ if .Params.projects }}
                <div class="maintainer-card-divider"></div>
                <div class="maintainer-card-projects">
                    <span class="maintainer-card-projects-label">Projects</span>
                    <div class="maintainer-projects">
                        {{ range $index, $project := .Params.projects }}
                        {{ if lt $index 4 }}
                        <span class="project-tag">{{ $project }}</span>
                        {{ end }}
                        {{ end }}
                        {{ if gt (len .Params.projects) 4 }}
                        <span class="project-tag more">+{{ sub (len .Params.projects) 4 }} more</span>
                        {{ end }}
                    </div>
                </div>
                {{ end }}
                
                <div class="maintainer-card-footer">
                    <span class="maintainer-card-link">
                        View Profile
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M5 12h14M12 5l7 7-7 7"/>
                        </svg>
                    </span>
                </div>
            </a>
            {{ end }}
        </div>
        {{ else }}
        <div class="empty-state">
            <div class="empty-icon">
                <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                    <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                    <circle cx="9" cy="7" r="4"></circle>
                    <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                    <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
                </svg>
            </div>
            <h3>Maintainer profiles coming soon</h3>
            <p>We're working on documenting the stories of infrastructure maintainers.</p>
        </div>
        {{ end }}

        <div class="cta-section">
            <h2>Know a Maintainer?</h2>
            <p>Help us celebrate the people who keep open source infrastructure running.</p>
            <a href="https://github.com/{{ .Site.Params.github }}/{{ .Site.Params.github_repo }}" class="btn btn-primary" target="_blank" rel="noopener">
                Suggest a Maintainer
            </a>
        </div>
    </div>
</div>
{{ end }}
